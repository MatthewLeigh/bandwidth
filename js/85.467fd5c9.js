"use strict";(self["webpackChunkbandwidth_v3"]=self["webpackChunkbandwidth_v3"]||[]).push([[85],{6039:function(e,s,t){t.d(s,{A:function(){return d}});var o=t(6768);const a={class:"wrapper"},r=["src"];function n(e,s,t,n,i,u){return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("iframe",{class:"iframe",loading:"lazy",src:e.embedUrl},null,8,r)])}var i=(0,o.pM)({name:"MapEmbed",props:{embedUrl:{type:String,default:"https://www.google.com/maps/d/u/0/embed?mid=1XnFb-G5D2UeK2wSUFVqxgBii8aeZ_lQ&ehbc=2E312F"}}}),u=t(1241);const c=(0,u.A)(i,[["render",n],["__scopeId","data-v-29e472d8"]]);var d=c},9621:function(e,s,t){t.d(s,{A:function(){return y}});var o=t(6768),a=t(4232),r=t(7498),n=t(697),i=t(1606),u=t(6756),c=t(5526),d=t(5126);const l={key:0,class:"wrapper"};function h(e,s,t,h,v,p){const m=(0,o.g2)("DividerBar");return e.socials.length>0&&!e.isError?((0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(m,{text:"Socials"}),(0,o.bF)(u.L,{class:"mt-4"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.socials,((s,t)=>((0,o.uX)(),(0,o.Wv)(c.B,{key:t,class:"card-wrapper",cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(r.J,{class:"card",flat:"",href:s.url,target:"_blank"},{default:(0,o.k6)((()=>[(0,o.bF)(d.y,{src:e.platformIcons[s.platform],alt:s.platform,class:"icon"},null,8,["src","alt"]),(0,o.bF)(n.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(i.r,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,a.v_)(s.handle),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["href"])])),_:2},1024)))),128))])),_:1})])):(0,o.Q3)("",!0)}t(1454);var v,p=t(5793),m=t(1114);(function(e){e["Website"]="Website",e["Facebook"]="Facebook",e["Instagram"]="Instagram",e["Twitter"]="Twitter",e["YouTube"]="YouTube",e["Bandcamp"]="Bandcamp",e["SoundCloud"]="SoundCloud",e["TikTok"]="TikTok"})(v||(v={}));const f={[v.Website]:"/bandwidth/icons/website.svg",[v.Facebook]:"/bandwidth/icons/facebook.svg",[v.Instagram]:"/bandwidth/icons/instagram.svg",[v.Twitter]:"/bandwidth/icons/twitter.svg",[v.YouTube]:"/bandwidth/icons/youtube.svg",[v.Bandcamp]:"/bandwidth/icons/bandcamp.svg",[v.SoundCloud]:"/bandwidth/icons/soundcloud.svg",[v.TikTok]:"/bandwidth/icons/tiktok.svg"};class b{constructor(e,s,t){(0,m.A)(this,"platform",void 0),(0,m.A)(this,"handle",void 0),(0,m.A)(this,"url",void 0),this.platform=e,this.handle=s,this.url=t}}var k=t(1510),w=(0,o.pM)({name:"SocialsList",components:{DividerBar:k.A},props:{focus:{type:Object,required:!0}},data(){return{socials:[],platformIcons:f,isLoading:!0,isError:!1}},async mounted(){try{const e=await fetch(`${p.g}/${this.focus.type}-socials/${this.focus.id}`),s=await e.json();this.socials=s.map((e=>{const s=v[e.Platform];return new b(s,e.Handle,e.URL)}))}catch(e){console.error("Error fetching socials:",e),this.isError=!0}finally{this.isLoading=!1}}}),g=t(1241);const F=(0,g.A)(w,[["render",h],["__scopeId","data-v-2f59d027"]]);var y=F},6028:function(e,s,t){t.r(s),t.d(s,{default:function(){return K}});var o=t(6768),a=t(4232),r=t(3892),n=t(3813),i=t(9669);const u={class:"carousel-wrapper"},c={class:"carousel-icon-wrapper"},d={class:"title-wrapper"},l={key:0,class:"featured"},h={key:1,class:"muted"},v={class:"title-text"},p={class:"title"},m={class:"subtitle"},f={key:0,class:"description row"},b={class:"info row bottomless"},k={class:"text"},w={class:"text-row"},g={class:"text-row"},F=["href"],y={class:"text-row"},C={class:"text-row"};function E(e,s,t,E,A,I){const $=(0,o.g2)("ImageCarousel"),L=(0,o.g2)("MapEmbed"),S=(0,o.g2)("OpeningHours"),T=(0,o.g2)("DividerBar"),_=(0,o.g2)("FocusCardRow"),D=(0,o.g2)("SocialsList"),W=(0,o.g2)("CommentsSection"),B=(0,o.g2)("RandomBanner");return(0,o.uX)(),(0,o.Wv)(n.I,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",u,[(0,o.bF)($,{focusArray:e.focusArrayForImages},null,8,["focusArray"]),(0,o.Lk)("div",c,[(0,o.bF)(r.D,{class:"carousel-icon",icon:"mdi-share-variant",onClick:e.sharePage},null,8,["onClick"]),e.user?((0,o.uX)(),(0,o.Wv)(r.D,{key:0,class:"carousel-icon",style:(0,a.Tr)(e.isFavourite?"color: var(--c-icon-favourite)":""),icon:e.iconType,onClick:e.iconMethod},null,8,["style","icon","onClick"])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",d,[e.isFeatured?((0,o.uX)(),(0,o.CE)("p",l,"| Featured Venue")):((0,o.uX)(),(0,o.CE)("p",h,"| Venue")),(0,o.Lk)("div",v,[(0,o.Lk)("h1",p,(0,a.v_)(e.venueTitle),1),(0,o.Lk)("div",m,[(0,o.bF)(i.w,{icon:"mdi-map-marker"}),(0,o.Lk)("p",null,(0,a.v_)(e.formattedAddress()),1)])])]),s[0]||(s[0]=(0,o.Lk)("hr",null,null,-1)),e.venueDescription?((0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("p",null,(0,a.v_)(e.venueDescription),1)])):(0,o.Q3)("",!0),(0,o.Lk)("div",b,[(0,o.bF)(L,{class:"map"}),(0,o.Lk)("div",k,[(0,o.Lk)("div",w,[(0,o.bF)(i.w,{icon:"mdi-map-marker"}),(0,o.Lk)("p",null,(0,a.v_)(e.formattedAddress()),1)]),(0,o.Lk)("div",g,[(0,o.bF)(i.w,{icon:"mdi-web"}),e.venueWebsite?((0,o.uX)(),(0,o.CE)("a",{key:0,href:e.venueWebsite,target:"_blank",rel:"noopener noreferrer",class:"clickable"},(0,a.v_)(e.venueWebsite),9,F)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",y,[(0,o.bF)(i.w,{icon:"mdi-cellphone"}),(0,o.Lk)("p",null,(0,a.v_)(e.venuePhoneNumber),1)]),(0,o.Lk)("div",C,[(0,o.bF)(i.w,{icon:"mdi-calendar-range"}),(0,o.bF)(S,{focusId:e.focusId},null,8,["focusId"])])])]),0!=e.focusArrayForUpcomingEvents.length?((0,o.uX)(),(0,o.Wv)(T,{key:1,text:"Upcoming events"})):(0,o.Q3)("",!0),(0,o.bF)(_,{focusList:e.focusArrayForUpcomingEvents},null,8,["focusList"]),(0,o.bF)(D,{focus:e.focus},null,8,["focus"]),(0,o.bF)(W,{focus:e.focus},null,8,["focus"]),(0,o.bF)(B)])),_:1})}t(1454);var A=t(4312),I=t(1840),$=t(5793),L=t(7933),S=t(9621),T=t(6705),_=t(1510),D=t(8766),W=t(6039);const B={class:"wrapper"},X={class:"name"},V={class:"hours"};function M(e,s,t,r,n,i){return(0,o.uX)(),(0,o.CE)("div",B,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.days,((e,t)=>((0,o.uX)(),(0,o.CE)("p",{class:"day",key:t},[(0,o.Lk)("span",X,(0,a.v_)(e.name),1),s[0]||(s[0]=(0,o.Lk)("span",{class:"ellipses"},null,-1)),(0,o.Lk)("span",V,(0,a.v_)(e.hours),1)])))),128))])}t(8992),t(3949);var P=(0,o.pM)({name:"OpeningHours",props:{focusId:{type:Number,required:!0}},data(){return{days:[{name:"Monday",hours:"unknown"},{name:"Tuesday",hours:"unknown"},{name:"Wednesday",hours:"unknown"},{name:"Thursday",hours:"unknown"},{name:"Friday",hours:"unknown"},{name:"Saturday",hours:"unknown"},{name:"Sunday",hours:"unknown"}]}},methods:{formatDay(e,s){return"00:00:00"===e?"closed":`${this.formatTime(e)} - ${this.formatTime(s)}`},formatTime(e){const[s,t,o]=e.split(":").map(Number),a=s%12||12,r=s<12?"am":"pm";return 59===o?"late":`${a}:${t.toString().padStart(2,"0")}${r}`}},async mounted(){try{const e=await fetch(`${$.g}/venue-opening-hours/${this.focusId}`),s=await e.json(),t=s[0],o=["Mon","Tue","Wed","Thur","Fri","Sat","Sun"];this.days.forEach(((e,s)=>{const a=`${o[s]}Open`,r=`${o[s]}Close`;e.hours=this.formatDay(t[a],t[r])}))}catch(e){console.error("Error fetching data:",e)}}}),U=t(1241);const j=(0,U.A)(P,[["render",M],["__scopeId","data-v-473fd00c"]]);var x=j,N=t(6703),O=t(657),Q=t(926),R=t(5704),H=(0,o.pM)({name:"VenueFocusView",setup(){const e=(0,Q.B)(),{getUser:s}=(0,O.bP)(e),t=(0,R.e)();return{sessionStore:e,user:s,snackbar:t}},components:{ImageCarousel:L.A,RandomBanner:T.A,SocialsList:S.A,DividerBar:_.A,FocusCardRow:D.A,MapEmbed:W.A,OpeningHours:x,CommentsSection:N.A},data(){return{focusId:Number(this.$route.params.id),focus:new A.B(Number(this.$route.params.id),I.d.Venue),focusArrayForImages:[new A.B(Number(this.$route.params.id),I.d.Venue)],focusArrayForUpcomingEvents:[],venueTitle:"",venueDescription:"",venueStreetAddress:"",venueCity:"",venueState:"",venuePostCode:"",venueWebsite:"",venuePhoneNumber:"(03) 4240 4726",isFeatured:!1,isFavourite:!1}},methods:{formattedAddress(){return`${this.venueStreetAddress}, ${this.venueCity}, ${this.venueState} ${this.venuePostCode}`},async postIsFavouriteVenue(){try{const e=await fetch(`${$.g}/post/venue/is-favourite/${this.user.userId}/${this.focus.id}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to update favorite status.");const s=await e.json();console.log("Favorite status updated:",s),this.snackbar.showSnackbar("Venue added to favourites!"),this.isFavourite=!this.isFavourite}catch(e){console.error("Error marking venue as favorite:",e)}},async deleteIsFavouriteVenue(){try{const e=await fetch(`${$.g}/delete/venue/is-favourite/${this.user.userId}/${this.focus.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to delete favorite status.");const s=await e.json();console.log("Favorite status deleted:",s),this.snackbar.showSnackbar("Venue removed from favourites"),this.isFavourite=!this.isFavourite}catch(e){console.error("Error deleting venue from favorites:",e)}},iconMethod(){this.isFavourite?this.deleteIsFavouriteVenue():this.postIsFavouriteVenue()},async sharePage(){try{await navigator.clipboard.writeText(window.location.href),this.snackbar.showSnackbar("Address copied to clipboard")}catch(e){console.error("Failed to copy address: ",e),this.snackbar.showSnackbar("Failed to copy address to clipboard")}}},computed:{iconType(){return this.isFavourite?"mdi-heart":"mdi-heart-outline"}},async mounted(){try{const e=await fetch(`${$.g}/focus-venue-details/${this.focusId}`),s=await e.json(),t=s[0];if(this.venueTitle=t.Title,this.venueDescription=t.Description,this.venueStreetAddress=t.StreetAddress,this.venueCity=t.City,this.venueState=t.State,this.venuePostCode=t.PostCode,this.venueWebsite=t.Website,this.isFeatured=t.Featured,this.user){const e=await fetch(`${$.g}/get/venue/is-favourite/${this.user.userId}/${this.focusId}`),s=await e.json();this.isFavourite=s[0].isFavourite}const o=await fetch(`${$.g}/upcoming-events-for-venue/${this.focusId}`),a=await o.json();this.focusArrayForUpcomingEvents=a.map((e=>new A.B(e.EventID,I.d.Event)))}catch(e){console.error("Error fetching data: ",e)}}});const q=(0,U.A)(H,[["render",E],["__scopeId","data-v-009641aa"]]);var K=q}}]);
//# sourceMappingURL=85.467fd5c9.js.map
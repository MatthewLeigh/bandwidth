"use strict";(self["webpackChunkbandwidth_v3"]=self["webpackChunkbandwidth_v3"]||[]).push([[23],{9621:function(t,s,e){e.d(s,{A:function(){return w}});var r=e(6768),a=e(4232),i=e(7498),o=e(697),n=e(1606),c=e(6756),d=e(5526),u=e(5126);const l={key:0,class:"wrapper"};function p(t,s,e,p,h,f){const v=(0,r.g2)("DividerBar");return t.socials.length>0&&!t.isError?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.bF)(v,{text:"Socials"}),(0,r.bF)(c.L,{class:"mt-4"},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.socials,((s,e)=>((0,r.uX)(),(0,r.Wv)(d.B,{key:e,class:"card-wrapper",cols:"12",md:"6"},{default:(0,r.k6)((()=>[(0,r.bF)(i.J,{class:"card",flat:"",href:s.url,target:"_blank"},{default:(0,r.k6)((()=>[(0,r.bF)(u.y,{src:t.platformIcons[s.platform],alt:s.platform,class:"icon"},null,8,["src","alt"]),(0,r.bF)(o.O,null,{default:(0,r.k6)((()=>[(0,r.bF)(n.r,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,a.v_)(s.handle),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["href"])])),_:2},1024)))),128))])),_:1})])):(0,r.Q3)("",!0)}e(1454);var h,f=e(5793),v=e(1114);(function(t){t["Website"]="Website",t["Facebook"]="Facebook",t["Instagram"]="Instagram",t["Twitter"]="Twitter",t["YouTube"]="YouTube",t["Bandcamp"]="Bandcamp",t["SoundCloud"]="SoundCloud",t["TikTok"]="TikTok"})(h||(h={}));const b={[h.Website]:"/bandwidth/icons/website.svg",[h.Facebook]:"/bandwidth/icons/facebook.svg",[h.Instagram]:"/bandwidth/icons/instagram.svg",[h.Twitter]:"/bandwidth/icons/twitter.svg",[h.YouTube]:"/bandwidth/icons/youtube.svg",[h.Bandcamp]:"/bandwidth/icons/bandcamp.svg",[h.SoundCloud]:"/bandwidth/icons/soundcloud.svg",[h.TikTok]:"/bandwidth/icons/tiktok.svg"};class m{constructor(t,s,e){(0,v.A)(this,"platform",void 0),(0,v.A)(this,"handle",void 0),(0,v.A)(this,"url",void 0),this.platform=t,this.handle=s,this.url=e}}var y=e(1510),F=(0,r.pM)({name:"SocialsList",components:{DividerBar:y.A},props:{focus:{type:Object,required:!0}},data(){return{socials:[],platformIcons:b,isLoading:!0,isError:!1}},async mounted(){try{const t=await fetch(`${f.g}/${this.focus.type}-socials/${this.focus.id}`),s=await t.json();this.socials=s.map((t=>{const s=h[t.Platform];return new m(s,t.Handle,t.URL)}))}catch(t){console.error("Error fetching socials:",t),this.isError=!0}finally{this.isLoading=!1}}}),g=e(1241);const k=(0,g.A)(F,[["render",p],["__scopeId","data-v-2f59d027"]]);var w=k},3070:function(t,s,e){e.r(s),e.d(s,{default:function(){return z}});var r=e(6768),a=e(4232),i=e(3892),o=e(7511),n=e(3813),c=e(8738);const d={class:"carousel-wrapper"},u={class:"carousel-icon-wrapper"},l={key:0,class:"loading-wrapper"},p={key:1,class:"mt-15 mb-15 text-center"},h={class:"title-wrapper"},f={key:0,class:"featured"},v={key:1,class:"muted"},b={class:"title"},m={key:0,class:"location-and-year row-narrow"},y={key:0},F={key:0},g={key:1},k={key:2},w={key:1,class:"spacer"},E={key:2},C={key:1,class:"description row bottomless"},A=["innerHTML"];function I(t,s,e,I,T,L){const S=(0,r.g2)("ImageCarousel"),_=(0,r.g2)("DividerBar"),X=(0,r.g2)("FocusCardRow"),$=(0,r.g2)("SocialsList"),B=(0,r.g2)("ArtistEmbeds"),D=(0,r.g2)("CommentsSection"),Q=(0,r.g2)("RandomBanner");return(0,r.uX)(),(0,r.Wv)(n.I,null,{default:(0,r.k6)((()=>[(0,r.Lk)("div",d,[(0,r.bF)(S,{focusArray:t.focusArrayForImages},null,8,["focusArray"]),(0,r.Lk)("div",u,[(0,r.bF)(i.D,{class:"carousel-icon",icon:"mdi-share-variant",onClick:t.sharePage},null,8,["onClick"]),t.user?((0,r.uX)(),(0,r.Wv)(i.D,{key:0,class:"carousel-icon",style:(0,a.Tr)(t.isFavourite?"color: var(--c-icon-favourite)":""),icon:t.iconType,onClick:t.iconMethod},null,8,["style","icon","onClick"])):(0,r.Q3)("",!0)])]),t.isLoading?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.bF)(c.V8,{type:"text",class:"s-label"}),(0,r.bF)(c.V8,{type:"text",class:"s-title"}),(0,r.bF)(c.V8,{type:"divider",class:"s-divider-1"}),(0,r.bF)(c.V8,{type:"text",class:"s-location"}),(0,r.bF)(c.V8,{boilerplate:"",class:"s-divider-2"},{default:(0,r.k6)((()=>[(0,r.bF)(o.G,{vertical:""})])),_:1}),(0,r.bF)(c.V8,{type:"text",class:"s-founded"}),(0,r.bF)(c.V8,{type:"divider",class:"s-divider-3"}),(0,r.bF)(c.V8,{type:"paragraph",class:"s-description"})])):t.isError?((0,r.uX)(),(0,r.CE)("p",p,"Unable to load page. Please try again later.")):((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.Lk)("div",h,[t.isFeatured?((0,r.uX)(),(0,r.CE)("p",f,"| Featured Artist")):((0,r.uX)(),(0,r.CE)("p",v,"| Artist")),(0,r.Lk)("h1",b,(0,a.v_)(t.artistTitle),1),s[0]||(s[0]=(0,r.Lk)("hr",null,null,-1))]),t.artistState||t.artistCountry||t.artistYearFounded?((0,r.uX)(),(0,r.CE)("div",m,[t.artistState||t.artistCountry?((0,r.uX)(),(0,r.CE)("p",y,[t.artistState?((0,r.uX)(),(0,r.CE)("span",F,(0,a.v_)(t.artistState),1)):(0,r.Q3)("",!0),t.artistState&&t.artistCountry?((0,r.uX)(),(0,r.CE)("span",g,", ")):(0,r.Q3)("",!0),t.artistCountry?((0,r.uX)(),(0,r.CE)("span",k,(0,a.v_)(t.artistCountry),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),t.artistState||t.artistCountry||t.artistYearFounded?((0,r.uX)(),(0,r.CE)("div",w)):(0,r.Q3)("",!0),t.artistYearFounded?((0,r.uX)(),(0,r.CE)("p",E," Founded "+(0,a.v_)(t.artistYearFounded),1)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),t.artistDescription?((0,r.uX)(),(0,r.CE)("div",C,[(0,r.Lk)("p",{innerHTML:t.artistDescription.replace(/\n/g,"<br>")},null,8,A)])):(0,r.Q3)("",!0),0!=t.focusArrayForUpcomingEvents.length?((0,r.uX)(),(0,r.CE)(r.FK,{key:2},[(0,r.bF)(_,{text:"Upcoming events"}),(0,r.bF)(X,{focusList:t.focusArrayForUpcomingEvents},null,8,["focusList"])],64)):(0,r.Q3)("",!0),(0,r.bF)($,{focus:t.focus},null,8,["focus"]),(0,r.bF)(B,{focusId:t.focusId},null,8,["focusId"]),(0,r.bF)(D,{focus:t.focus},null,8,["focus"]),(0,r.bF)(Q)],64))])),_:1})}e(1454);var T=e(7933),L=e(1510),S=e(8766),_=e(9621),X=e(6756),$=e(5526);const B={key:0,class:"wrapper"},D=["src"];function Q(t,s,e,a,i,o){const n=(0,r.g2)("DividerBar");return!t.isError&&!t.isLoading&&t.embeds.length>0?((0,r.uX)(),(0,r.CE)("div",B,[(0,r.bF)(n,{text:"Check them out",class:"mb-4"}),(0,r.bF)(X.L,null,{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.embeds,((t,s)=>((0,r.uX)(),(0,r.Wv)($.B,{key:s,cols:"12",lg:"6"},{default:(0,r.k6)((()=>[(0,r.Lk)("iframe",{class:"iframe",src:t,frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; picture-in-picture; gyroscope; web-share",referrerpolicy:"strict-origin-when-cross-origin",loading:"lazy"},null,8,D)])),_:2},1024)))),128))])),_:1})])):(0,r.Q3)("",!0)}var Y=e(5793),j=(0,r.pM)({name:"ArtistEmbeds",components:{DividerBar:L.A},props:{focusId:{type:Number,required:!0}},data(){return{embeds:[],isLoading:!0,isError:!1}},async mounted(){try{const t=await fetch(`${Y.g}/artist-embeds/${this.focusId}`),s=await t.json();this.embeds=[s[0].SpotifyEmbed,s[0].YouTubeEmbed]}catch(t){console.error(t),this.isError=!0}finally{this.isLoading=!1}}}),x=e(1241);const V=(0,x.A)(j,[["render",Q],["__scopeId","data-v-68632e93"]]);var U=V,W=e(6705),M=e(6703),P=e(4312),R=e(1840),K=e(657),N=e(926),H=e(5704),O=(0,r.pM)({name:"ArtistFocusView",setup(){const t=(0,H.e)(),s=(0,N.B)(),{getUser:e}=(0,K.bP)(s);return{snackbar:t,sessionStore:s,user:e}},components:{ImageCarousel:T.A,DividerBar:L.A,FocusCardRow:S.A,SocialsList:_.A,ArtistEmbeds:U,RandomBanner:W.A,CommentsSection:M.A},data(){return{focusId:Number(this.$route.params.id),focus:new P.B(Number(this.$route.params.id),R.d.Artist),focusArrayForImages:[new P.B(Number(this.$route.params.id),R.d.Artist)],focusArrayForUpcomingEvents:[],artistTitle:"",artistDescription:"",artistState:"",artistCountry:"",artistYearFounded:"",isFeatured:!1,isFavourite:!1,isLoading:!0,isError:!1}},methods:{async postIsFavouriteArtist(){try{const t=await fetch(`${Y.g}/post/artist/is-favourite/${this.user.userId}/${this.focus.id}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to update favorite status.");const s=await t.json();console.log("Favorite status updated:",s),this.isFavourite=!this.isFavourite,this.snackbar.showSnackbar("Artist added to favourites!")}catch(t){console.error("Error marking artist as favorite:",t)}},async deleteIsFavouriteArtist(){try{const t=await fetch(`${Y.g}/delete/artist/is-favourite/${this.user.userId}/${this.focus.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to delete favorite status.");const s=await t.json();console.log("Favorite status deleted:",s),this.snackbar.showSnackbar("Artist removed from favourites"),this.isFavourite=!this.isFavourite}catch(t){console.error("Error deleting artist from favorites:",t)}},iconMethod(){this.isFavourite?this.deleteIsFavouriteArtist():this.postIsFavouriteArtist()},async sharePage(){try{await navigator.clipboard.writeText(window.location.href),this.snackbar.showSnackbar("Address copied to clipboard")}catch(t){console.error("Failed to copy address: ",t),this.snackbar.showSnackbar("Failed to copy address to clipboard")}}},computed:{iconType(){return this.isFavourite?"mdi-heart":"mdi-heart-outline"}},async mounted(){try{const t=await fetch(`${Y.g}/focus-artist-details/${this.focusId}`),s=await t.json(),e=s[0];if(this.artistTitle=e.Title,this.artistDescription=e.Description,this.artistState=e.State,this.artistCountry=e.Country,this.artistYearFounded=e.YearFounded,this.isFeatured=e.Featured,this.user){const t=await fetch(`${Y.g}/get/artist/is-favourite/${this.user.userId}/${this.focusId}`),s=await t.json();this.isFavourite=s[0].isFavourite}const r=await fetch(`${Y.g}/upcoming-events-for-artist/${this.focusId}`),a=await r.json();this.focusArrayForUpcomingEvents=a.map((t=>new P.B(t.EventID,R.d.Event)))}catch(t){console.error("Error fetching data:",t),this.isError=!0}finally{this.isLoading=!1}}});const q=(0,x.A)(O,[["render",I],["__scopeId","data-v-1d318848"]]);var z=q}}]);
//# sourceMappingURL=23.936c6e4d.js.map